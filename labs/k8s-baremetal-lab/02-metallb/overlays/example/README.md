# MetalLB Overlay – Example Configuration

This folder contains the IP pool configuration for MetalLB.

MetalLB allows bare-metal Kubernetes clusters to assign external IP addresses
to services of type LoadBalancer.

---

## What Is In This Folder?

- metallb-pool.yaml

This file defines:

- An IPAddressPool
- An L2Advertisement

---

## Default Configuration

The default IP range assigned for LoadBalancer services is:

    192.168.1.200-192.168.1.220

This provides a pool of addresses so multiple LoadBalancer services
can receive external IPs over time.

When ingress-nginx is installed (via Helm), MetalLB assigns one IP
from this pool to the ingress controller service.

---

## Why Use an Overlay?

The `base/` folder installs MetalLB itself.

The `overlays/example/` folder defines environment-specific configuration,
such as:

- Which IP addresses MetalLB is allowed to assign.

This follows a common Kubernetes pattern:

    base/        → core components
    overlays/    → environment-specific configuration

---

## Changing the IP Range

You normally do NOT edit this file manually.

Instead, run bootstrap with your own values, for example:

    .\bootstrap.ps1 -VipIP 192.168.1.210 -VipPoolRange 192.168.1.210-192.168.1.230

The bootstrap script applies the MetalLB pool directly to the cluster.

---

## What Happens After This?

Once MetalLB is installed and this overlay is applied:

- Services of type LoadBalancer can receive an external IP.
- ingress-nginx receives one IP from the configured pool.
- Applications become accessible from the network.

# MetalLB Overlay – Example Configuration

This folder contains the IP pool configuration for MetalLB.

MetalLB allows bare-metal Kubernetes clusters to assign external IP addresses
to services of type LoadBalancer.

---

## What Is In This Folder?

- metallb-pool.yaml

This file defines:

- An IPAddressPool
- An L2Advertisement

---

## Default Configuration

The default IP address assigned for LoadBalancer services is:

    192.168.1.200

Specifically:

    192.168.1.200/32

This means exactly one IP address is available in the pool.

When ingress-nginx is installed (via Helm), MetalLB assigns this IP
to the ingress controller service.

---

## Why Use an Overlay?

The `base/` folder installs MetalLB itself.

The `overlays/example/` folder defines environment-specific configuration,
such as:

- Which IP addresses MetalLB is allowed to assign.

This follows a common Kubernetes pattern:

    base/        → core components
    overlays/    → environment-specific configuration

---

## Changing the VIP

You normally do NOT edit this file manually.

Instead, run:

    .\bootstrap.ps1 -VipIP 192.168.1.210

The bootstrap script will automatically update this file
before applying it to the cluster.

---

## What Happens After This?

Once MetalLB is installed and this overlay is applied:

- Services of type LoadBalancer can receive an external IP.
- ingress-nginx receives 192.168.1.200.
- Applications become accessible from the network.
